---
/**
 * PlaylistSection
 * src/components/playlist/PlaylistSection.astro
 *
 */
import { getSongs, sortByGenre } from "./actions";

const songs = getSongs();
const songsSortedByGenre = sortByGenre(songs);
---

<div class="relative overflow-hidden px-[5%] py-16 md:py-24 lg:py-28">
  <div class="container">
    <ul>
      {
        songsSortedByGenre.map((song, index) => {
          return (
            <li>
              {/* Genre Header */}
              {(index == 0 ||
                songsSortedByGenre[index - 1].genre != song.genre) && (
                <div class="mb-8 mt-12" id={`${song.genre}`}>
                  <h2 class="font-heading text-6xl sm:text-8xl">
                    {song.genre}
                  </h2>
                  <div class="inline-block w-full bg-gradient-to-r from-accent-700/15 to-transparent py-2" />
                </div>
              )}

              {/* Song Card */}
              <div class="mb-4 grid grid-cols-1 gap-2 rounded-sm bg-gradient-to-br from-white to-gray-100 p-8 shadow-xsmall md:grid-cols-2">
                <p class="font-body text-lg font-light md:text-xl">
                  {song.song}
                </p>
                <p class="font-heading text-2xl uppercase md:text-3xl">
                  {song.artist}
                </p>
              </div>
            </li>
          );
        })
      }
    </ul>
  </div>
</div>
